# ===========================================
# MUSICSPREE CONFIGURATION
# ===========================================

# ===========================================
# REQUIRED - LastFM API Configuration
# ===========================================
# Get your API key from: https://www.last.fm/api/account/create
LASTFM_API_KEY=your_lastfm_api_key_here
LASTFM_USERNAME=your_lastfm_username
LASTFM_SHARED_SECRET=your_lastfm_shared_secret

# ===========================================
# REQUIRED - Navidrome Configuration  
# ===========================================
NAVIDROME_URL=http://navidrome:4533
NAVIDROME_USERNAME=admin
NAVIDROME_PASSWORD=your_navidrome_password

# ===========================================
# REQUIRED - Soulseek Configuration
# ===========================================
SLSKD_URL=http://slskd:5030
SLSKD_API_KEY=your_slskd_api_key

# ===========================================
# OPTIONAL - Beets Configuration
# ===========================================
BEETS_URL=http://beets:8337
BEETS_CONFIG_PATH=/config

# ===========================================
# RECOMMENDATIONS MANAGEMENT - NOUVEAU
# ===========================================
# Dossier principal pour les recommendations
RECOMMENDATIONS_FOLDER=/music/recommendations

# Nombre maximum de tracks dans le dossier current
RECOMMENDATIONS_MAX_TRACKS=200

# Âge maximum des tracks avant rotation (en jours)
RECOMMENDATIONS_MAX_AGE_DAYS=30

# Stratégie de rotation: oldest_first, least_played, random
ROTATION_STRATEGY=oldest_first

# Activer le nettoyage au démarrage
ENABLE_CLEANUP_ON_STARTUP=true

# Activer l'archivage (si false, suppression directe)
ENABLE_ARCHIVE=true

# Nombre maximum de tracks dans l'archive
ARCHIVE_MAX_TRACKS=500

# ===========================================
# PLAYLIST CONFIGURATION
# ===========================================
PLAYLIST_NAME=LastFM Recommendations
CLEAN_PLAYLISTS_ON_REFRESH=true
KEEP_DOWNLOADED_TRACKS=true

# ===========================================
# DOWNLOAD CONFIGURATION
# ===========================================
MAX_DOWNLOAD_RETRIES=5
DOWNLOAD_TIMEOUT_MINUTES=10
CONCURRENT_DOWNLOADS=3

# ===========================================
# SCHEDULING
# ===========================================
# Format cron: minute hour day month weekday
# Examples:
# - "0 */6 * * *"    # Every 6 hours
# - "0 2 * * *"      # Every day at 2 AM
# - "0 8,20 * * *"   # Every day at 8 AM and 8 PM
CRON_SCHEDULE=0 */6 * * *

# ===========================================
# LOGGING
# ===========================================
# Log levels: error, warn, info, http, verbose, debug, silly
LOG_LEVEL=info
LOG_TO_FILE=true

# ===========================================
# DEVELOPMENT / DEBUG
# ===========================================
# Set to true to see what would be downloaded without actually downloading
DRY_RUN=false

# Node environment
NODE_ENV=production

# Auto-run on container startup
RUN_ON_STARTUP=true

# ===========================================
# SLSKD SPECIFIC CONFIGURATION
# ===========================================
# These are typically configured in slskd's interface
# but can be set via environment if needed
SLSKD_USERNAME=your_soulseek_username
SLSKD_PASSWORD=your_soulseek_password
SLSKD_SHARED_DIRECTORIES=/downloads:/music/recommendations
SLSKD_DOWNLOAD_DIRECTORY=/downloads

# ===========================================
# ADVANCED CONFIGURATION
# ===========================================
# Fine-tuning pour utilisateurs avancés

# Délai entre les requêtes API (ms)
API_DELAY_MS=1000

# Timeout pour les connexions HTTP (ms) 
HTTP_TIMEOUT_MS=15000

# Nombre maximum de recommendations LastFM à récupérer
MAX_LASTFM_RECOMMENDATIONS=100

# Seuil de correspondance pour la recherche de tracks (0.0-1.0)
TRACK_MATCH_THRESHOLD=0.6

# Activer la déduplication intelligente
ENABLE_SMART_DEDUPLICATION=true

# ===========================================
# DOCKER COMPOSE OVERRIDES
# ===========================================
# Variables pour docker-compose, préfixées pour éviter les conflits

# Ports externes
MUSICSPREE_PORT=3000
NAVIDROME_PORT=4533
SLSKD_PORT=5030
SLSKD_LISTEN_PORT=50300
BEETS_PORT=8337

# Ressources
MUSICSPREE_MEMORY_LIMIT=512m
NAVIDROME_MEMORY_LIMIT=256m
SLSKD_MEMORY_LIMIT=512m
BEETS_MEMORY_LIMIT=256m

# ===========================================
# EXEMPLE DE CONFIGURATION COMPLÈTE
# ===========================================
# Décommentez et adaptez selon vos besoins

# Configuration pour un usage intensif
# RECOMMENDATIONS_MAX_TRACKS=500
# RECOMMENDATIONS_MAX_AGE_DAYS=14
# CONCURRENT_DOWNLOADS=5
# MAX_DOWNLOAD_RETRIES=10
# CRON_SCHEDULE=0 */2 * * *

# Configuration pour un usage léger
# RECOMMENDATIONS_MAX_TRACKS=50
# RECOMMENDATIONS_MAX_AGE_DAYS=60
# CONCURRENT_DOWNLOADS=1
# CRON_SCHEDULE=0 8 * * *

# Configuration de développement
# LOG_LEVEL=debug
# DRY_RUN=true
# ENABLE_CLEANUP_ON_STARTUP=false